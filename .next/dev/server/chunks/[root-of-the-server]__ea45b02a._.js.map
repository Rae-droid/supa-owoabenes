{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/i-m-just-another-guy/Downloads/supa-owoabenes/lib/database/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\"\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error(\n    \"[v0] Supabase environment variables are missing! Check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your environment variables.\",\n  )\n}\n\n// Client for browser (use anon key)\nexport const supabaseBrowser = (() => {\n  if (!supabaseUrl || !supabaseAnonKey) {\n    console.warn(\"[v0] Supabase browser client unavailable - missing environment variables\")\n    return null\n  }\n  return createClient(supabaseUrl, supabaseAnonKey)\n})()\n\n// Server client (use service role key - only on server)\nexport const supabaseServer = (() => {\n  if (!supabaseUrl) {\n    console.error(\"[v0] Cannot create Supabase server client - NEXT_PUBLIC_SUPABASE_URL is missing\")\n    return null\n  }\n  const key = supabaseServiceKey || supabaseAnonKey\n  if (!key) {\n    console.error(\"[v0] Cannot create Supabase server client - no valid API key available\")\n    return null\n  }\n  return createClient(supabaseUrl, key)\n})()\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AACN,MAAM,qBAAqB,QAAQ,GAAG,CAAC,yBAAyB;AAEhE;;AAOO,MAAM,kBAAkB,CAAC;IAC9B;;IAIA,OAAO,IAAA,yMAAY,EAAC,aAAa;AACnC,CAAC;AAGM,MAAM,iBAAiB,CAAC;IAC7B;;IAIA,MAAM,MAAM,sBAAsB;IAClC;;IAIA,OAAO,IAAA,yMAAY,EAAC,aAAa;AACnC,CAAC","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/i-m-just-another-guy/Downloads/supa-owoabenes/app/api/staff/route.ts"],"sourcesContent":["import { supabaseServer } from \"@/lib/database/supabase\";\nimport { NextRequest, NextResponse } from \"next/server\";\n\nexport async function GET() {\n  try {\n    const { data, error } = await supabaseServer\n      .from(\"staff\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) throw error;\n\n    return NextResponse.json({ success: true, data });\n  } catch (error: any) {\n    console.error(\"[v0] Error fetching staff:\", error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const staffData = await request.json();\n    const { data, error } = await supabaseServer\n      .from(\"staff\")\n      .insert([staffData])\n      .select();\n\n    if (error) throw error;\n\n    return NextResponse.json({ success: true, data: data[0] }, { status: 201 });\n  } catch (error: any) {\n    console.error(\"[v0] Error adding staff:\", error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAc,CACzC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO,MAAM;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAK;IACjD,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,YAAY,MAAM,QAAQ,IAAI;QACpC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAc,CACzC,IAAI,CAAC,SACL,MAAM,CAAC;YAAC;SAAU,EAClB,MAAM;QAET,IAAI,OAAO,MAAM;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM,IAAI,CAAC,EAAE;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC3E,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}